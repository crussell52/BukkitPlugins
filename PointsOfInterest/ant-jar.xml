<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="test-build" name="Create Jar for Project PointsOfInterest">
    
    <!-- To Those Forking my code.  This has been committed for my own purposes.
         Please do not modify this file.  You can create your own ant script using
         ant-template.xml (same folder as this file). Thanks! :)
    -->
    
    <property name="jar.name" value="PointsOfInterest.jar"/>
    <property name="proj.dir" value="D:/Development/bukkit/BukkitPlugins/PointsOfInterest/" />
    <property name="test.jar.dest" value="D:/minecraft/bukkit_svr/plugins/${jar.name}"/>
    <property name="classes.dir" value="${proj.dir}target/classes/" />
    <property name="api.dir" value="D:/Development/bukkit/"/>
    <property name="release.jar.dir" value="${proj.dir}build/"/>

	<target name="test-build">
        <delete file="${test.jar.dest}" />
        <jar destfile="${test.jar.dest}" filesetmanifest="mergewithoutmain">
            <manifest>
                <attribute name="Class-Path" value="."/>
            </manifest>
            <fileset dir="${classes.dir}"/>
        	<fileset dir="${proj.dir}">
        	    <include name="plugin.yml"/>
        		<include name="resources/**" />
        	</fileset>
            <zipfileset excludes="META-INF/*.SF" src="${api.dir}PointsOfInterestAPI.jar"/>
        </jar>
    </target>
	
	<target name="release-build" depends="test-build">
		<copy file="${test.jar.dest}" todir="${release.jar.dir}" />
	</target>
	
</project>
